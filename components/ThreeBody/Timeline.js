import { useState } from 'react'
import styles from './styles/Timeline.module.css'

const timelineEvents = [
  {
    year: '1967년',
    title: '예저타이 교수 살해',
    description: '물리학 교수 예저타이가 "반혁명적" 빅뱅 이론을 가르쳤다는 이유로 제자들에게 살해당함',
    characters: ['예저타이', '예원제'],
    result: '결과: 예원제의 인류에 대한 증오 형성, 과학에 대한 불신 시작',
    details: '문화대혁명의 광기가 절정에 달한 시기. 청화대학 물리학 교수 예저타이는 빅뱅 이론과 상대성 이론을 가르쳤다는 이유로 반혁명분자로 몰렸다. 그의 제자들과 홍위병들은 그를 공개 비판 집회에서 구타하여 살해했다. 이 장면을 목격한 어린 딸 예원제는 이날의 충격으로 인류 전체에 대한 깊은 증오를 품게 되었다.',
    impact: '이 사건은 예원제가 훗날 삼체 문명에게 지구의 위치를 알려주는 결정적 동기가 되었다. 인류의 어리석음과 잔인함을 직접 목격한 그녀는 외계 문명이 더 나은 질서를 가져올 것이라 믿게 되었다.'
  },
  {
    year: '1979년',
    title: '삼체 문명과의 첫 접촉',
    description: '예원제가 레이더 피크에서 삼체 문명의 신호를 수신하고 지구 위치를 송신',
    characters: ['예원제'],
    result: '결과: 삼체 침공 시작, ETO 조직 결성',
    details: '홍안 기지의 레이더 피크에서 근무하던 예원제는 우연히 태양을 증폭기로 사용하여 외계로 신호를 보낼 수 있다는 것을 발견했다. 그녀는 삼체 문명으로부터 첫 신호를 수신했고, 그 신호에는 한 평화주의자의 경고가 담겨있었다: "답하지 마라. 답하면 우리가 너희를 찾아낼 것이다." 그러나 예원제는 인류에 대한 증오로 답신을 보냈고, 지구의 정확한 좌표를 알려주었다.',
    impact: '이 순간 삼체 함대가 지구를 향해 출발했다. 도착까지 450년이 걸리지만, 이것이 인류 역사상 가장 큰 위기의 시작이었다. 예원제는 ETO(지구삼체조직)를 창립하여 삼체의 지구 침공을 돕기 시작했다.'
  },
  {
    year: '2007년',
    title: '과학자 연쇄 자살 사건',
    description: '양둥을 포함한 다수의 과학자들이 물리학 법칙 붕괴를 발견하고 자살',
    characters: ['양둥', '딩이', '왕먀오'],
    result: '결과: 과학계 혼란, 삼체 조직 발각의 단초',
    details: '전 세계의 입자 가속기 실험에서 이상한 결과가 나타났다. 동일한 조건의 실험이 매번 다른 결과를 내놓았고, 물리 법칙이 무너지는 듯한 현상이 관측되었다. 이론물리학자 양둥을 포함한 여러 과학자들이 "물리학은 존재하지 않는다"는 절망적 결론에 도달하고 자살했다. 나노재료 연구자 왕먀오는 자신의 눈앞에 나타나는 카운트다운 현상을 경험했다.',
    impact: '이것은 모두 삼체가 보낸 지자(智子, 소폰)의 소행이었다. 양자 입자를 2차원으로 전개하여 만든 초AI인 지자는 인류의 과학 발전을 봉쇄하기 위해 모든 입자 실험을 교란하고 있었다. 인류는 450년 후 삼체 도착까지 기술 발전이 정지된 채 기다려야 했다.'
  },
  {
    year: '2007년',
    title: '나노와이어 작전',
    description: '왕먀오의 나노와이어를 이용해 마이크 에번스의 선박을 절단, ETO 핵심부 소탕',
    characters: ['왕먀오', '스창', '마이크 에번스', '예원제'],
    result: '결과: ETO 1차 소탕, 삼체 침공 계획 노출',
    details: 'ETO의 수장 마이크 에반스가 심판자호라는 선박에서 삼체와 통신하며 조직을 운영하고 있다는 정보를 입수했다. 형사 스창(다스)과 왕먀오는 왕먀오가 개발한 나노섬유를 파나마 운하에 설치했다. 심판자호가 통과할 때 나노와이어가 선박과 승무원들을 수평으로 절단했다. 이 작전으로 에반스와 예원제가 사망하고, ETO의 핵심 정보를 획득했다.',
    impact: 'ETO 1차 소탕에 성공했지만, 삼체의 계획을 완전히 막지는 못했다. 더 중요한 것은 지자의 존재와 삼체 함대의 접근 사실이 전 세계에 공개되었다는 점이다. 인류는 이제 본격적으로 대응 전략을 수립해야 했다.'
  },
  {
    year: '2008년',
    title: '면벽자 프로젝트 시작',
    description: '삼체의 지자(智子) 감시를 피해 비밀 계획을 수행할 면벽자 4명 선정',
    characters: ['뤄지', '타일러', '레이디아즈', '하인즈'],
    result: '결과: 각 면벽자의 독립적 계획 시작, 파벽자들의 대응',
    details: '지자가 모든 정보를 감시하는 상황에서, 인류는 생각만으로 전략을 숨길 수 있는 4명의 면벽자를 선정했다. 뤄지(사회학자), 프레드릭 타일러(미국 전 국방장관), 마누엘 레이디아즈(베네수엘라 대통령), 빌 하인즈(신경과학자)가 선정되었다. 이들은 자신의 진짜 계획을 누구에게도 말하지 않고, 전 인류의 자원을 동원할 권한을 받았다.',
    impact: '면벽자들은 각자의 방식으로 삼체에 대응했다. 타일러는 수소폭탄 우주전함, 레이디아즈는 항성 폭탄, 하인즈는 사고 통제를 시도했지만 모두 ETO의 파벽자들에 의해 실패했다. 오직 뤄지만이 성공했다.'
  },
  {
    year: '2205년',
    title: '암흑의 숲 이론 발견',
    description: '뤄지가 우주사회학을 통해 암흑의 숲 이론을 발견하고 삼체 함대를 위협',
    characters: ['뤄지'],
    result: '결과: 삼체 함대 후퇴, 상호확증파괴 체제 구축',
    details: '면벽자 뤄지는 동면에서 깨어나 우주사회학의 두 가지 공리를 깨달았다: 1) 생존은 문명의 제1욕구 2) 문명은 계속 확장하지만 우주 물질의 총량은 불변. 이로부터 그는 암흑의 숲 법칙을 도출했다 - 우주는 암흑의 숲이며, 모든 문명은 숨어있는 사냥꾼이다. 한 문명이 다른 문명을 발견하면, 유일한 선택은 먼저 공격하는 것이다. 뤄지는 한 항성 좌표를 우주에 브로드캐스트하여 이를 증명했고, 그 항성계는 곧 파괴되었다.',
    impact: '뤄지는 삼체의 좌표를 브로드캐스트하겠다고 위협하여 삼체 함대를 후퇴시켰다. 이것이 상호확증파괴(MAD) 체제의 시작이었다. 인류는 처음으로 삼체와 대등한 협상력을 갖게 되었다.'
  },
  {
    year: '2208년',
    title: '검잡이 체제 시작',
    description: '뤄지가 검잡이가 되어 암흑의 숲 타격으로 삼체를 위협하는 균형 체제 구축',
    characters: ['뤄지'],
    result: '결과: 62년간 평화 유지, 삼체 기술 이전',
    details: '뤄지는 "검잡이"가 되었다 - 손에 암흑의 숲 타격 스위치를 쥔 자. 그가 신호를 보내면 삼체와 지구의 좌표가 동시에 우주로 브로드캐스트되어 두 문명 모두 파괴된다. 뤄지는 매 순간 삼체를 겨냥한 검을 들고 있어야 했다. 이 균형 체제 하에서 삼체는 지구에 기술을 이전하기 시작했고, 인류는 황금 시대를 맞이했다.',
    impact: '검잡이 체제는 62년간 지속되었다. 이 기간 동안 인류는 급속한 발전을 이루었고, 삼체에 대한 경계도 느슨해졌다. 하지만 뤄지는 늙어갔고, 후계자가 필요했다.'
  },
  {
    year: '2270년',
    title: '검잡이 교체와 위협 해제',
    description: '정청신이 검잡이가 되지만 위협 의지 부족으로 삼체가 지구 재침공',
    characters: ['정청신', '뤄지'],
    result: '결과: 지구 재침공, 인류 호주 격리, 광속 추진 연구 금지',
    details: '국민 투표로 정청신이 새로운 검잡이로 선출되었다. 그녀는 사랑과 책임감이 넘치는 인물이었지만, 그것이 약점이 되었다. 검잡이가 된 지 불과 15분 만에 삼체는 정청신이 실제로는 위협을 실행할 수 없다는 것을 간파했다. 그녀는 두 문명을 파괴할 결단력이 없었다. 삼체는 즉시 지구를 재침공했고, 지자들이 순식간에 지구를 장악했다.',
    impact: '인류는 호주 대륙에 격리되었고, 모든 우주 기술과 광속 추진 연구가 금지되었다. 삼체는 지구를 식민지화하기 시작했다. 정청신의 선량함이 인류 전체를 파멸로 이끈 것이다.'
  },
  {
    year: '2271년',
    title: '암흑의 숲 타격',
    description: '삼체 세계가 우주의 다른 문명에 의해 차원 공격으로 멸망',
    characters: ['정청신', '관이판'],
    result: '결과: 삼체 문명 멸망, 태양계 노출, 인류 대탈출',
    details: '우주 전함 블루스페이스호가 삼체와 지구의 좌표를 동시에 브로드캐스트했다. 누군가가 암흑의 숲 공격을 실행한 것이다. 삼체 항성계는 우주의 다른 문명에 의해 차원 공격을 받아 3차원에서 2차원으로 전락하며 완전히 파괴되었다. 태양계도 곧 공격받을 운명이었다.',
    impact: '삼체 문명이 멸망하면서 지구의 점령도 끝났다. 하지만 태양계의 좌표가 노출되었고, 인류는 우주로 대탈출을 시작해야 했다. 정청신은 광속 우주선 개발을 막은 자신의 결정을 후회했지만 이미 늦었다.'
  },
  {
    year: '18903310년',
    title: '우주 재시작 참여',
    description: '정청신과 관이판이 소우주에 남아 우주 재시작 프로젝트에 참여',
    characters: ['정청신', '관이판'],
    result: '결과: 새로운 우주 탄생 기여, 사랑의 승리',
    details: '우주는 계속된 차원 공격으로 10차원에서 1차원으로 붕괴하고 있었다. 우주의 끝에서 정청신은 한 메시지를 발견했다: 우주를 재시작하려면 모든 문명이 소우주에서 빼돌린 물질을 돌려놓아야 한다. 정청신과 관이판은 자신들의 소우주를 포기하고 물질을 대우주로 돌려보내기로 결정했다. 이는 죽음을 의미했지만, 새로운 우주의 탄생을 위한 희생이었다.',
    impact: '정청신의 여정은 실패와 후회로 점철되었지만, 마지막 순간 그녀는 사랑과 희생을 통해 구원받았다. 두 사람의 희생으로 우주는 재시작의 기회를 얻었고, 새로운 10차원 우주가 탄생할 수 있게 되었다.'
  }
]

export default function Timeline() {
  const [selectedEvent, setSelectedEvent] = useState(null)

  return (
    <div className={styles.timeline}>
      {timelineEvents.map((event, index) => (
        <div key={index} className={styles.timelineItem}>
          <div
            className={`${styles.timelineCard} ${selectedEvent === index ? styles.timelineCardExpanded : ''}`}
            onClick={() => setSelectedEvent(selectedEvent === index ? null : index)}
          >
            <div className={styles.timelineYear}>{event.year}</div>
            <div className={styles.timelineTitle}>{event.title}</div>
            <div className={styles.timelineDescription}>{event.description}</div>
            <div className={styles.timelineCharacters}>
              {event.characters.map((char, i) => (
                <span key={i} className={styles.characterTag}>{char}</span>
              ))}
            </div>
            <div className={styles.timelineResult}>{event.result}</div>

            {selectedEvent === index && (
              <div className={styles.timelineDetails}>
                <div className={styles.detailSection}>
                  <h4>상세 설명</h4>
                  <p>{event.details}</p>
                </div>
                <div className={styles.detailSection}>
                  <h4>역사적 영향</h4>
                  <p>{event.impact}</p>
                </div>
              </div>
            )}
          </div>
        </div>
      ))}
    </div>
  )
}
